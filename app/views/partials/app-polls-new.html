<div ng-include="'partials/app-navbar'"></div>

<h3>New Poll</h3>

<p>Specify your poll question and the type of poll and you're ready to go!</p>

<form role="form" name="newPoll">
  <div class="form-group">
    <label for="question">Poll question</label>
    <input type="text" class="form-control" name="question" id="question" placeholder="Ask a question" required ng-model="poll.question">
  </div>
  <div class="form-group">
    <label>Question type</label>
    <div>
      <label class="btn btn-default" ng-model="poll.type" btn-radio="1">Multiple Choice</label>
      <label class="btn btn-default" ng-model="poll.type" btn-radio="2">Short Answer</label>
      <label class="btn btn-default" ng-model="poll.type" btn-radio="3">Open Ended</label>
    </div>
  </div>

  <div class="form-group" ng-show="poll.type == 1">
    <label for="numChoices">Number of choices</label>
    <div class="input-group">
      <input type="number" class="form-control" name="numChoices" id="numChoices" ng-model="numChoices" min="{{numChoicesMin}}" max="{{numChoicesMax}}">
      <span class="input-group-btn">
        <button class="btn btn-default" type="button" ng-disabled="numChoices <= numChoicesMin" ng-click="numChoices = numChoices - 1">&ndash;</button>
        <button class="btn btn-default" type="button" ng-disabled="numChoices >= numChoicesMax" ng-click="numChoices = numChoices + 1">+</button>
      </span>
    </div>
  </div>

  <div ng-show="poll.type == 1">
    <label for="choice0">Choices</label>
    <div class="form-group" ng-repeat="i in getNumber(numChoices) track by $index">
      <div class="input-group">
        <span class="input-group-addon">#{{$index + 1}}</span>
        <input type="text" class="form-control" name="choice{{$index}}" id="choice{{$index}}" ng-model="poll.choices[$index]" required>
      </div>
    </div>
  </div>

  <button type="submit" class="btn btn-primary" ng-click="createPoll()">Create Poll</button>
</form>