<div ng-include="'partials/app-navbar'"></div>

<div class="container">

  <h1 class="text-center">{{poll.question}}</h1>

  <div google-chart chart="chartObject" class="google-chart" ng-show="answerCount"></div>
  <div class="alert alert-warning" ng-hide="answerCount">There are no answers to this poll yet.</div>

  <div class="text-center">
  <div class="btn-group btn-group-lg">
      <label class="btn btn-primary" ng-model="chart.type" btn-radio="'PieChart'">Pie</label>
      <label class="btn btn-primary" ng-model="chart.type" btn-radio="'BarChart'">Bar</label>
      <label class="btn btn-primary" ng-model="chart.type" btn-radio="'ColumnChart'">Column</label>
  </div>
</div>
  <table class="table table-hover poll-results">
    <tbody>
      <tr ng-repeat="choice in poll.choices track by $index">
        <th class="rowIndex">{{toAlpha($index)}}</th>
        <td>{{choice}}</td>
        <td class="text-right"><span class="badge color{{$index + 1}}">{{answerCount[$index] || 0}}</span></td>
      </tr>
    </tbody>
  </table>

  <div class="text-right">
    <a href="/app/polls/{{poll._id}}/results/export" class="btn btn-primary" role="button" target="_self"><span class="glyphicon glyphicon-floppy-save"></span> Export</a>
    <a href="/app/polls" class="btn btn-default" role="button">Back</a>
  </div>

</div>
